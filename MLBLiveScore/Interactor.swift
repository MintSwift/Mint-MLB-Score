import Foundation
import SwiftDate

@MainActor
class Interactor: ObservableObject {
    @Published var schedules: [Schedule] = []
    @Published var liveScore: LiveScore? = nil
    
    init() {
        Task {
//            await linescore()
            await schedule()
        }
        
    }
    
    
    func linescore() async {
//        response = await Network.base()
    }
    
    
    func schedule() async {
        let start = Date.now - 1.days
        
        self.schedules = await Network.schedule(startDate: start)
    }
    
    func detail(id: Int) async  {
        print(id)
        self.liveScore = await Network.live(id: "\(id)")
    }
}
